{"version":3,"file":"yox-touch.min.js","sources":["../src/index.js"],"sourcesContent":["\nconst Hammer = typeof require === 'function'\n    ? require('hammerjs')\n    : window.Hammer\n\nif (!Hammer) {\n  throw new Error('[yox-touch] cannot locate Hammer.js.')\n}\n\n/**\n * 版本\n *\n * @type {string}\n */\nexport const version = process.env.NODE_VERSION\n\n/**\n * 全局默认配置\n *\n * @type {Object}\n */\nexport const options = { }\n\nexport function install(Yox) {\n\n  Yox.array.each(\n    [\n      'tap',\n\n      'press',\n      'pressup',\n\n      'pinchstart',\n      'pinchmove',\n      'pinchend',\n      'pinchcancel',\n      'pinchin',\n      'pinchout',\n\n      'rotatestart',\n      'rotatemove',\n      'rotateend',\n      'rotatecancel',\n\n      'swipeleft',\n      'swiperight',\n      'swipeup',\n      'swipedown',\n\n      'panstart',\n      'panmove',\n      'panend',\n      'pancancel',\n      'panleft',\n      'panright',\n      'panup',\n      'pandown'\n\n    ],\n    function (name) {\n      Yox.dom.specialEvents[name] = {\n        on(node, listener) {\n          const hammer = node.$hammer || (node.$hammer = new Hammer(node, options[name]))\n          hammer.on(name, listener)\n        },\n        off(node, listener) {\n          const hammer = node.$hammer\n          hammer.off(name, listener)\n          if (Yox.object.falsy(hammer.handlers)) {\n            hammer.destroy()\n            node.$hammer = null\n          }\n        }\n      }\n    }\n  )\n\n}\n\n// 如果全局环境已有 Yox，自动安装\nif (typeof Yox !== 'undefined' && Yox.use) {\n  install(Yox)\n}\n"],"names":["const","Hammer","require","window","Error","options","install","Yox","array","each","name","dom","specialEvents","on","node","listener","$hammer","off","hammer","object","falsy","handlers","destroy","use"],"mappings":"qMACAA,IAAMC,EAA4B,mBAAZC,QAChBA,QAAQ,YACRC,OAAOF,OAEb,IAAKA,EACH,MAAM,IAAIG,MAAM,4CAeLC,EAAU,GAEhB,SAASC,EAAQC,GAEtBA,EAAIC,MAAMC,KACR,CACE,MAEA,QACA,UAEA,aACA,YACA,WACA,cACA,UACA,WAEA,cACA,aACA,YACA,eAEA,YACA,aACA,UACA,YAEA,WACA,UACA,SACA,YACA,UACA,WACA,QACA,WAGF,SAAUC,GACRH,EAAII,IAAIC,cAAcF,GAAQ,CAC5BG,YAAGC,EAAMC,IACQD,EAAKE,UAAYF,EAAKE,QAAU,IAAIf,EAAOa,EAAMT,EAAQK,MACjEG,GAAGH,EAAMK,IAElBE,aAAIH,EAAMC,GACRf,IAAMkB,EAASJ,EAAKE,QACpBE,EAAOD,IAAIP,EAAMK,GACbR,EAAIY,OAAOC,MAAMF,EAAOG,YAC1BH,EAAOI,UACPR,EAAKE,QAAU,UAUR,oBAART,KAAuBA,IAAIgB,KACpCjB,EAAQC,uCAnEa"}