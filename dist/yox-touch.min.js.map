{"version":3,"file":"yox-touch.min.js","sources":["../src/index.js"],"sourcesContent":["\nconst Hammer = typeof require === 'function'\n    ? require('hammerjs')\n    : window.Hammer\n\nif (!Hammer) {\n  throw new Error('[yox-touch] cannot locate Hammer.js.')\n}\n\n/**\n * 版本\n *\n * @type {string}\n */\nexport const version = process.env.NODE_VERSION\n\n/**\n * 支持的事件，即 on-double-tap 支持的写法\n *\n * @type {string}\n */\nexport const events = [\n  'tap',\n  'doubleTap',\n\n  'press',\n  'pressUp',\n\n  'pinchStart',\n  'pinchMove',\n  'pinchEnd',\n  'pinchCancel',\n  'pinchIn',\n  'pinchOut',\n\n  'rotateStart',\n  'rotateMove',\n  'rotateEnd',\n  'rotateCancel',\n\n  'swipeLeft',\n  'swipeRight',\n\n  'panStart',\n  'panMove',\n  'panEnd',\n  'panCancel',\n  'panLeft',\n  'panRight',\n]\n\nexport function install(Yox) {\n\n  Yox.array.each(\n    events,\n    function (name) {\n      Yox.dom.specialEvents[name] = {\n        on(node, listener) {\n          const hammer = node.$hammer || (node.$hammer = new Hammer(node))\n          hammer.on(Yox.string.lower(name), listener)\n        },\n        off(node, listener) {\n          const hammer = node.$hammer\n          hammer.off(Yox.string.lower(name), listener)\n          if (Yox.object.falsy(hammer.handlers)) {\n            hammer.destroy()\n            node.$hammer = null\n          }\n        }\n      }\n    }\n  )\n\n}\n"],"names":["const","Hammer","require","window","Error","events","Yox","array","each","name","dom","specialEvents","on","node","listener","$hammer","string","lower","off","hammer","object","falsy","handlers","destroy"],"mappings":"qMACAA,IAAMC,EAA4B,mBAAZC,QAChBA,QAAQ,YACRC,OAAOF,OAEb,IAAKA,EACH,MAAM,IAAIG,MAAM,4CAeLC,EAAS,CACpB,MACA,YAEA,QACA,UAEA,aACA,YACA,WACA,cACA,UACA,WAEA,cACA,aACA,YACA,eAEA,YACA,aAEA,WACA,UACA,SACA,YACA,UACA,iCAGK,SAAiBC,GAEtBA,EAAIC,MAAMC,KACRH,EACA,SAAUI,GACRH,EAAII,IAAIC,cAAcF,GAAQ,CAC5BG,YAAGC,EAAMC,IACQD,EAAKE,UAAYF,EAAKE,QAAU,IAAId,EAAOY,KACnDD,GAAGN,EAAIU,OAAOC,MAAMR,GAAOK,IAEpCI,aAAIL,EAAMC,GACRd,IAAMmB,EAASN,EAAKE,QACpBI,EAAOD,IAAIZ,EAAIU,OAAOC,MAAMR,GAAOK,GAC/BR,EAAIc,OAAOC,MAAMF,EAAOG,YAC1BH,EAAOI,UACPV,EAAKE,QAAU,qBApDJ"}