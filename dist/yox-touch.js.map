{"version":3,"file":"yox-touch.js","sources":["../src/index.js"],"sourcesContent":["\nconst Hammer = typeof require === 'function'\n    ? require('hammerjs')\n    : window.Hammer\n\nif (!Hammer) {\n  throw new Error('[yox-touch] cannot locate Hammer.js.')\n}\n\n/**\n * 版本\n *\n * @type {string}\n */\nexport const version = process.env.NODE_VERSION\n\n/**\n * 支持的事件，即 on-double-tap 支持的写法\n *\n * @type {string}\n */\nexport const events = [\n  'tap',\n  'doubleTap',\n\n  'press',\n  'pressUp',\n\n  'pinchStart',\n  'pinchMove',\n  'pinchEnd',\n  'pinchCancel',\n  'pinchIn',\n  'pinchOut',\n\n  'rotateStart',\n  'rotateMove',\n  'rotateEnd',\n  'rotateCancel',\n\n  'swipeLeft',\n  'swipeRight',\n\n  'panStart',\n  'panMove',\n  'panEnd',\n  'panCancel',\n  'panLeft',\n  'panRight',\n]\n\nexport function install(Yox) {\n\n  Yox.array.each(\n    events,\n    function (name) {\n      Yox.dom.specialEvents[name] = {\n        on(node, listener) {\n          const hammer = node.$hammer || (node.$hammer = new Hammer(node))\n          hammer.on(Yox.string.lower(name), listener)\n        },\n        off(node, listener) {\n          const hammer = node.$hammer\n          hammer.off(Yox.string.lower(name), listener)\n          if (Yox.object.falsy(hammer.handlers)) {\n            hammer.destroy()\n            node.$hammer = null\n          }\n        }\n      }\n    }\n  )\n\n}\n"],"names":["const"],"mappings":";;;;;;;;;;;;EACAA,IAAM,MAAM,GAAG,OAAO,OAAO,KAAK,UAAU;QACtC,OAAO,CAAC,UAAU,CAAC;QACnB,MAAM,CAAC,OAAM;;EAEnB,IAAI,CAAC,MAAM,EAAE;IACX,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC;GACxD;;;;;;;AAOD,AAAY,MAAC,OAAO,GAAG,SAAwB;;;;;;;AAO/C,AAAY,MAAC,MAAM,GAAG;IACpB,KAAK;IACL,WAAW;;IAEX,OAAO;IACP,SAAS;;IAET,YAAY;IACZ,WAAW;IACX,UAAU;IACV,aAAa;IACb,SAAS;IACT,UAAU;;IAEV,aAAa;IACb,YAAY;IACZ,WAAW;IACX,cAAc;;IAEd,WAAW;IACX,YAAY;;IAEZ,UAAU;IACV,SAAS;IACT,QAAQ;IACR,WAAW;IACX,SAAS;IACT,UAAU,GACX;;AAED,EAAO,SAAS,OAAO,CAAC,GAAG,EAAE;;IAE3B,GAAG,CAAC,KAAK,CAAC,IAAI;MACZ,MAAM;MACN,UAAU,IAAI,EAAE;QACd,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG;UAC5B,eAAE,CAAC,IAAI,EAAE,QAAQ,EAAE;YACjBA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,EAAC;YAChE,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAC;WAC5C;UACD,iBAAG,CAAC,IAAI,EAAE,QAAQ,EAAE;YAClBA,IAAM,MAAM,GAAG,IAAI,CAAC,QAAO;YAC3B,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAC;YAC5C,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;cACrC,MAAM,CAAC,OAAO,GAAE;cAChB,IAAI,CAAC,OAAO,GAAG,KAAI;aACpB;WACF;UACF;OACF;MACF;;GAEF;;;;;;;;;;;;;;"}