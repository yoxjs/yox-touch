{"version":3,"file":"yox-touch.js","sources":["../src/index.js"],"sourcesContent":["\nconst Hammer = typeof require === 'function'\n    ? require('hammerjs')\n    : window.Hammer\n\nif (!Hammer) {\n  throw new Error('[yox-touch] cannot locate Hammer.js.')\n}\n\n/**\n * 版本\n *\n * @type {string}\n */\nexport const version = process.env.NODE_VERSION\n\nexport function install(Yox) {\n\n  Yox.array.each(\n    [\n      'tap',\n      'doubleTap',\n\n      'press',\n      'pressUp',\n\n      'pinchStart',\n      'pinchMove',\n      'pinchEnd',\n      'pinchCancel',\n      'pinchIn',\n      'pinchOut',\n\n      'rotateStart',\n      'rotateMove',\n      'rotateEnd',\n      'rotateCancel',\n\n      'swipeLeft',\n      'swipeRight',\n      'swipeUp',\n      'swipeDown',\n\n      'panStart',\n      'panMove',\n      'panEnd',\n      'panCancel',\n      'panLeft',\n      'panRight',\n      'panUp',\n      'panDown'\n\n    ],\n    function (name) {\n      Yox.dom.specialEvents[name] = {\n        on(node, listener) {\n          const hammer = node.$hammer || (node.$hammer = new Hammer(node))\n          hammer.on(Yox.string.lower(name), listener)\n        },\n        off(node, listener) {\n          const hammer = node.$hammer\n          hammer.off(Yox.string.lower(name), listener)\n          if (Yox.object.falsy(hammer.handlers)) {\n            hammer.destroy()\n            node.$hammer = null\n          }\n        }\n      }\n    }\n  )\n\n}\n\n// 如果全局环境已有 Yox，自动安装\nif (typeof Yox !== 'undefined' && Yox.use) {\n  install(Yox)\n}\n"],"names":["const"],"mappings":";;;;;;;;;;;;EACAA,IAAM,MAAM,GAAG,OAAO,OAAO,KAAK,UAAU;QACtC,OAAO,CAAC,UAAU,CAAC;QACnB,MAAM,CAAC,OAAM;;EAEnB,IAAI,CAAC,MAAM,EAAE;IACX,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC;GACxD;;;;;;;AAOD,AAAY,MAAC,OAAO,GAAG,SAAwB;;AAE/C,EAAO,SAAS,OAAO,CAAC,GAAG,EAAE;;IAE3B,GAAG,CAAC,KAAK,CAAC,IAAI;MACZ;QACE,KAAK;QACL,WAAW;;QAEX,OAAO;QACP,SAAS;;QAET,YAAY;QACZ,WAAW;QACX,UAAU;QACV,aAAa;QACb,SAAS;QACT,UAAU;;QAEV,aAAa;QACb,YAAY;QACZ,WAAW;QACX,cAAc;;QAEd,WAAW;QACX,YAAY;QACZ,SAAS;QACT,WAAW;;QAEX,UAAU;QACV,SAAS;QACT,QAAQ;QACR,WAAW;QACX,SAAS;QACT,UAAU;QACV,OAAO;QACP,SAAS;;OAEV;MACD,UAAU,IAAI,EAAE;QACd,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG;UAC5B,eAAE,CAAC,IAAI,EAAE,QAAQ,EAAE;YACjBA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,EAAC;YAChE,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAC;WAC5C;UACD,iBAAG,CAAC,IAAI,EAAE,QAAQ,EAAE;YAClBA,IAAM,MAAM,GAAG,IAAI,CAAC,QAAO;YAC3B,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAC;YAC5C,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;cACrC,MAAM,CAAC,OAAO,GAAE;cAChB,IAAI,CAAC,OAAO,GAAG,KAAI;aACpB;WACF;UACF;OACF;MACF;;GAEF;;;EAGD,IAAI,OAAO,GAAG,KAAK,WAAW,IAAI,GAAG,CAAC,GAAG,EAAE;IACzC,OAAO,CAAC,GAAG,EAAC;GACb;;;;;;;;;;;;;"}