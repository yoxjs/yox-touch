{"version":3,"file":"yox-touch.js","sources":["../src/index.js"],"sourcesContent":["\nconst Hammer = typeof require === 'function'\n    ? require('hammerjs')\n    : window.Hammer\n\nif (!Hammer) {\n  throw new Error('[yox-touch] cannot locate Hammer.js.')\n}\n\n/**\n * 版本\n *\n * @type {string}\n */\nexport const version = process.env.NODE_VERSION\n\n/**\n * 全局默认配置\n *\n * @type {Object}\n */\nexport const options = { }\n\nexport function install(Yox) {\n\n  Yox.array.each(\n    [\n      'tap',\n\n      'press',\n      'pressup',\n\n      'pinchstart',\n      'pinchmove',\n      'pinchend',\n      'pinchcancel',\n      'pinchin',\n      'pinchout',\n\n      'rotatestart',\n      'rotatemove',\n      'rotateend',\n      'rotatecancel',\n\n      'swipeleft',\n      'swiperight',\n      'swipeup',\n      'swipedown',\n\n      'panstart',\n      'panmove',\n      'panend',\n      'pancancel',\n      'panleft',\n      'panright',\n      'panup',\n      'pandown'\n\n    ],\n    function (name) {\n      Yox.dom.specialEvents[name] = {\n        on(node, listener) {\n          const hammer = node.$hammer || (node.$hammer = new Hammer(node, options[name]))\n          hammer.on(name, listener)\n        },\n        off(node, listener) {\n          const hammer = node.$hammer\n          hammer.off(name, listener)\n          if (Yox.object.falsy(hammer.handlers)) {\n            hammer.destroy()\n            node.$hammer = null\n          }\n        }\n      }\n    }\n  )\n\n}\n\n// 如果全局环境已有 Yox，自动安装\nif (typeof Yox !== 'undefined' && Yox.use) {\n  install(Yox)\n}\n"],"names":["const"],"mappings":";;;;;;;;;;;;EACAA,IAAM,MAAM,GAAG,OAAO,OAAO,KAAK,UAAU;QACtC,OAAO,CAAC,UAAU,CAAC;QACnB,MAAM,CAAC,OAAM;;EAEnB,IAAI,CAAC,MAAM,EAAE;IACX,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC;GACxD;;;;;;;AAOD,AAAY,MAAC,OAAO,GAAG,SAAwB;;;;;;;AAO/C,AAAY,MAAC,OAAO,GAAG,IAAG;;AAE1B,EAAO,SAAS,OAAO,CAAC,GAAG,EAAE;;IAE3B,GAAG,CAAC,KAAK,CAAC,IAAI;MACZ;QACE,KAAK;;QAEL,OAAO;QACP,SAAS;;QAET,YAAY;QACZ,WAAW;QACX,UAAU;QACV,aAAa;QACb,SAAS;QACT,UAAU;;QAEV,aAAa;QACb,YAAY;QACZ,WAAW;QACX,cAAc;;QAEd,WAAW;QACX,YAAY;QACZ,SAAS;QACT,WAAW;;QAEX,UAAU;QACV,SAAS;QACT,QAAQ;QACR,WAAW;QACX,SAAS;QACT,UAAU;QACV,OAAO;QACP,SAAS;;OAEV;MACD,UAAU,IAAI,EAAE;QACd,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG;UAC5B,eAAE,CAAC,IAAI,EAAE,QAAQ,EAAE;YACjBA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,EAAC;YAC/E,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAC;WAC1B;UACD,iBAAG,CAAC,IAAI,EAAE,QAAQ,EAAE;YAClBA,IAAM,MAAM,GAAG,IAAI,CAAC,QAAO;YAC3B,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAC;YAC1B,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;cACrC,MAAM,CAAC,OAAO,GAAE;cAChB,IAAI,CAAC,OAAO,GAAG,KAAI;aACpB;WACF;UACF;OACF;MACF;;GAEF;;;EAGD,IAAI,OAAO,GAAG,KAAK,WAAW,IAAI,GAAG,CAAC,GAAG,EAAE;IACzC,OAAO,CAAC,GAAG,EAAC;GACb;;;;;;;;;;;;;;"}